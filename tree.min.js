(function(){var e=this;var n=this.document;var r={};var a="<div class='node-content'><a href='#' class='expand'></a>{name}</div>";var t="<div class='node-content no-child'>{name}</div>";var i=function(e){e.rendered=false;r[e.id]=e;var n=e.children;var a=n.length;if(a>0){for(var t=0;t<a;t++){i(n[t])}}};var d=function(e,r){var i=e.children;var d=n.createElement("ul");for(var v=0,s=i.length;v<s;v++){var c=i[v];var o=n.createElement("li");o.setAttribute("class","closed");o.setAttribute("data-nodeid",c.id);if(c.children.length>0){o.innerHTML=l(a,c)}else{o.innerHTML=l(t,c)}d.appendChild(o)}e.rendered=true;r.appendChild(d)};var l=function(e,n){var r=/{[^}]*}/gi;var a=e.match(r);var t=e.split(r);var i=t.length;var d=[];for(var l=0;l<i;l++){d.push(t[l]);var v=a[l];if(v){var s=v.replace(/[{}\s]/gi,"");if(n[s]!==null&&n[s]!==undefined){d.push(n[s])}else{d.push(v)}}}return d.join("")};e.lazyTree=function(e,a){i(e);if(typeof a==="string"){a=n.getElementById(a)}d(e,a);$(a).on("click","a.expand",function(e){e.preventDefault();var n=$(e.target);var a=n.closest("li");a.toggleClass("closed");var t=r[a.data("nodeid")];if(!t.rendered){d(t,a[0])}})}})(window);