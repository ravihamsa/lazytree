(function(){"use strict";var e=this;var r=e.document;var n={};var a="<div class='node-content'><a href='#' class='expand'></a>{name}</div>";var t="<div class='node-content no-child'>{name}</div>";var i=function(e){e.rendered=false;n[e.id]=e;var r=e.children;var a=r.length;if(a>0){for(var t=0;t<a;t++){i(r[t])}}};var d=function(e,n){var i=e.children;var d=r.createElement("ul");for(var v=0,s=i.length;v<s;v++){var c=i[v];var o=r.createElement("li");o.setAttribute("class","closed");o.setAttribute("data-nodeid",c.id);if(c.children.length>0){o.innerHTML=l(a,c)}else{o.innerHTML=l(t,c)}d.appendChild(o)}e.rendered=true;n.appendChild(d)};var l=function(e,r){var n=/{[^}]*}/gi;var a=e.match(n);var t=e.split(n);var i=t.length;var d=[];for(var l=0;l<i;l++){d.push(t[l]);var v=a[l];if(v){var s=v.replace(/[{}\s]/gi,"");if(r[s]!==null&&r[s]!==undefined){d.push(r[s])}else{d.push(v)}}}return d.join("")};e.lazyTree=function(e,a){i(e);if(typeof a==="string"){a=r.getElementById(a)}d(e,a);$(a).on("click","a.expand",function(e){e.preventDefault();var r=$(e.target);var a=r.closest("li");a.toggleClass("closed");var t=n[a.data("nodeid")];if(!t.rendered){d(t,a[0])}})}})(window);